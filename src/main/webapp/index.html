<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Football Search Engine</title>
    <link href="CSS/Styles.css" rel="stylesheet" />
    <script src="Vendor/knockout-3.1.0.js"></script>
    <script src="Vendor/jquery-2.1.0.js"></script>
    <script src="JS/ObjectDefinitions.js"></script>
    <script src="JS/DataService.js"></script>
    <script src="JS/SearchEngine.js"></script>
    <script type="text/javascript">

        var searchEngine;

        $(document).ready(function () {
            searchEngine = searchEngineViewModel();
            searchEngine.initialize();

            ko.applyBindings(searchEngine);
        });

    </script>
</head>
<body>
    <div id="menuBorder">
        <a class="menuBorderButtonLeft" href="javascript:void(0)" data-bind="click: showSearchPage">Football Search Engine</a>
        <select class="menuBorderUserList" data-bind="options: users, value: loggedUser, optionsText: function(item) { return item.userFullName() }"></select>
        <a class="menuBorderButtonRight" href="javascript:void(0)" data-bind="click: showMyProfile">My Profile</a>
        <a class="menuBorderButtonRight" href="javascript:void(0)" data-bind="click: showMyFiles">My Files</a>
        <a class="menuBorderButtonRight" href="javascript:void(0)" data-bind="click: showUploadFile">Upload File</a>
    </div>
    <div style="height: 40px;"></div>

    <!-- ko if: mode() == 'MyProfile'-->
    <div>
        My Profile
    </div>
    <!-- /ko -->
    <!-- ko if: mode() == 'MyFiles' -->
    <div>
        My Files
    </div>
    <!-- /ko -->
    <!-- ko if: mode() == 'UploadFile' -->
    <div>
        Upload File
    </div>
    <!-- /ko -->
    <!-- ko if: mode() == 'Search' -->
    <div style="text-align: center;">
        <table id="searchTable">
            <tr>
                <td id="searchLabel">Search Query:</td>
                <td><input id="searchTextBox" type="text" data-bind="value: searchQuery, valueUpdate: 'afterkeydown'" /></td>
                <td><input id="goButton" type="button" value="GO" data-bind="click: performSearch"></td>
            </tr>
            <tr>
                <td colspan="3">
                    <div data-bind="foreach: resultsDOC">
                        <label data-bind="text: docName"></label><br />
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <!-- /ko -->

    <div style="visibility: collapse">
        <h3>Debug Information:</h3>
        Logged user ID: <label data-bind="text: loggedUser() ? loggedUser().id : -1"></label><br />
        Logged user name: <label data-bind="text: loggedUser() ? loggedUser().userFullName() : 'unknown'"></label><br />
        Search Query: <label data-bind="text: searchQuery"></label><br />
    </div>
</body>
</html>